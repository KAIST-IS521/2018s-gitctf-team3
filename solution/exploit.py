#!/usr/bin/env python

from socket import *
import sys

HOST = sys.argv[1]
PORT = int(sys.argv[2])
BUFSIZE = 1024
ADDR = (HOST, PORT)

s = socket(AF_INET, SOCK_STREAM)
def read_until(x):
  buf = ''
  while not buf.endswith(x):
    buf += s.recv(1)
  return buf
try:
    s.connect(ADDR)
except Exception as e:
    print('Cannot connect to the server.')
    sys.exit()
read_until('chat.\x1b\x5b\x30\x6d\x0d\x0a')
s.send('/flag\n')
flag = s.recv(BUFSIZE)
flag = flag.rstrip()
sys.stdout.write(flag)
